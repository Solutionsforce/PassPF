{% extends "base.html" %}

{% block content %}
<div class="alert-warning">
    Não utilize o botão voltar do seu navegador pois todos os dados serão perdidos. Utilize apenas os botões do próprio formulário.
</div>

<div class="title nova-solicitacao">
    Nova solicitação de passaporte
</div>

<div class="main-box">
    <div class="main-box-content">
        <a href="{{ url_for('dados_pessoais') }}" class="nav-link">Dados pessoais</a>
        <a href="{{ url_for('documentos') }}" class="nav-link">Documentos</a>
        <a href="{{ url_for('dados_complementares') }}" class="nav-link">Dados complementares</a>
        <a href="{{ url_for('revisar_dados') }}" class="nav-link active">Revisar dados</a>
    </div>
    <div class="main-box-footer">
        (*) Preenchimento Obrigatório
    </div>
</div>

<div class="form-container-wrapper">
    <div class="form-container">
        <form method="POST" action="{{ url_for('revisar_dados') }}" id="formRevisar">
            
            <div class="revisar-title">Confira atentamente as informações abaixo:</div>

            <div class="revisar-info-text">
                Caso detecte algum erro nos dados a seguir, volte ao campo correspondente para corrigir. Erro em algum desses campos implicará em <strong>ATRASO</strong> na entrega do seu passaporte. Seguindo o padrão internacional ICAO, os sobrenomes poderão ser abreviados na impressão do documento de viagem.
            </div>

            <div class="revisar-section-title">DADOS PESSOAIS</div>

            <div class="revisar-label">Nome Completo</div>
            <div class="revisar-value">{{ dados_pessoais.get('nome', '') }}</div>

            <div class="revisar-label">CPF</div>
            <div class="revisar-value">{{ dados_pessoais.get('cpf_responsavel', '') }}</div>

            <div class="revisar-label">Sexo</div>
            <div class="revisar-value">{{ dados_pessoais.get('sexo', '') }}</div>

            <div class="revisar-label">Raça/Cor</div>
            <div class="revisar-value">{{ dados_pessoais.get('raca', '') }}</div>

            <div class="revisar-label">Filiação 1</div>
            <div class="revisar-value">{{ dados_pessoais.get('filiacao1', '') }}</div>

            <div class="revisar-label">Sexo Filiação 1</div>
            <div class="revisar-value">{{ dados_pessoais.get('sexo_filiacao1', '') }}</div>

            <div class="revisar-label">Filiação 2</div>
            <div class="revisar-value">{{ dados_pessoais.get('filiacao2', '') }}</div>

            <div class="revisar-label">Sexo Filiação 2</div>
            <div class="revisar-value">{{ dados_pessoais.get('sexo_filiacao2', '') }}</div>

            <div class="revisar-label">Data de Nascimento</div>
            <div class="revisar-value">{{ dados_pessoais.get('data_nascimento', '') }}</div>

            <div class="revisar-label">Naturalidade</div>
            <div class="revisar-value">{{ dados_pessoais.get('cidade', '') }} / {{ dados_pessoais.get('uf', '') }}</div>

            <div class="revisar-label">País</div>
            <div class="revisar-value">{{ dados_pessoais.get('pais', '') }}</div>

            <div class="revisar-label">Nacionalidade</div>
            <div class="revisar-value">{{ dados_pessoais.get('nacionalidade', '') }}</div>

            <div class="revisar-label">Estado Civil</div>
            <div class="revisar-value">{{ dados_pessoais.get('estado_civil', '') }}</div>

            <div class="revisar-section-title">DOCUMENTOS</div>

            <div class="revisar-label">Documento de Identificação - Número</div>
            <div class="revisar-value">{{ dados_documentos.get('numero_doc', '') }}</div>

            <div class="revisar-label">Data de Emissão</div>
            <div class="revisar-value">{{ dados_documentos.get('data_emissao', '') }}</div>

            <div class="revisar-label">Órgão Emissor</div>
            <div class="revisar-value">{{ dados_documentos.get('orgao_emissor', '') }}</div>

            <div class="revisar-label">UF de Expedição</div>
            <div class="revisar-value">{{ dados_documentos.get('uf_expedicao', '') }}</div>

            <div class="revisar-label">CPF</div>
            <div class="revisar-value">{{ dados_documentos.get('cpf', '') }}</div>

            {% if dados_documentos.get('matricula') or dados_documentos.get('tipo') or dados_documentos.get('numero_certidao') %}
            <div class="revisar-label">Matrícula</div>
            <div class="revisar-value">{{ dados_documentos.get('matricula', '') }}</div>

            <div class="revisar-label">Tipo</div>
            <div class="revisar-value">{{ dados_documentos.get('tipo', '') }}</div>

            <div class="revisar-label">Número da Certidão</div>
            <div class="revisar-value">{{ dados_documentos.get('numero_certidao', '') }}</div>

            <div class="revisar-label">Livro</div>
            <div class="revisar-value">{{ dados_documentos.get('livro', '') }}</div>

            <div class="revisar-label">Folha</div>
            <div class="revisar-value">{{ dados_documentos.get('folha', '') }}</div>

            <div class="revisar-label">Cartório</div>
            <div class="revisar-value">{{ dados_documentos.get('cartorio', '') }}</div>

            <div class="revisar-label">UF de Certidão</div>
            <div class="revisar-value">{{ dados_documentos.get('uf_certidao', '') }}</div>

            <div class="revisar-label">Cidade de Expedição</div>
            <div class="revisar-value">{{ dados_documentos.get('cidade_expedicao', '') }}</div>
            {% endif %}

            {% if dados_documentos.get('numero_passaporte') %}
            <div class="revisar-label">Passaporte Anterior - Número</div>
            <div class="revisar-value">{{ dados_documentos.get('numero_passaporte', '') }}</div>

            <div class="revisar-label">Série</div>
            <div class="revisar-value">{{ dados_documentos.get('serie', '') }}</div>

            <div class="revisar-label">Situação</div>
            <div class="revisar-value">{{ dados_documentos.get('situacao', '') }}</div>
            {% endif %}

            <div class="revisar-section-title">DADOS COMPLEMENTARES</div>

            <div class="revisar-label">Profissão</div>
            <div class="revisar-value">{{ dados_complementares.get('profissao', '') }}</div>

            <div class="revisar-label">E-mail</div>
            <div class="revisar-value">{{ dados_complementares.get('email', '') }}</div>

            <div class="revisar-label">CEP</div>
            <div class="revisar-value">{{ dados_complementares.get('cep', '') }}</div>

            <div class="revisar-label">UF</div>
            <div class="revisar-value">{{ dados_complementares.get('uf_endereco', '') }}</div>

            <div class="revisar-label">Cidade</div>
            <div class="revisar-value">{{ dados_complementares.get('cidade_endereco', '') }}</div>

            <div class="revisar-label">Logradouro</div>
            <div class="revisar-value">{{ dados_complementares.get('logradouro', '') }}</div>

            <div class="revisar-label">Distrito/Bairro</div>
            <div class="revisar-value">{{ dados_complementares.get('bairro', '') }}</div>

            <div class="revisar-label">Telefone</div>
            <div class="revisar-value">{{ dados_complementares.get('telefone', '') }}</div>

            <div class="revisar-checkbox-container">
                <input type="checkbox" class="revisar-checkbox" id="declaracao" name="declaracao" required>
                <label class="revisar-checkbox-label" for="declaracao">
                    Declaro que as informações acima estão corretas e que estou ciente de que qualquer erro nos dados implicará em atraso na emissão do meu documento de viagem.
                </label>
            </div>

            <div class="doc-button-row">
                <a href="{{ url_for('dados_complementares') }}" class="doc-btn-anterior">ANTERIOR</a>
                <button type="submit" class="doc-btn-proximo" id="btnEnviar">ENVIAR</button>
            </div>
        </form>
    </div>
</div>

<script>
    const checkbox = document.getElementById('declaracao');
    const btnEnviar = document.getElementById('btnEnviar');
    
    checkbox.addEventListener('change', function() {
        if (this.checked) {
            btnEnviar.disabled = false;
            btnEnviar.style.background = '#2176c7';
            btnEnviar.style.cursor = 'pointer';
        } else {
            btnEnviar.disabled = true;
            btnEnviar.style.background = '#a9c1d9';
            btnEnviar.style.cursor = 'not-allowed';
        }
    });
    
    btnEnviar.disabled = true;
    btnEnviar.style.background = '#a9c1d9';
    btnEnviar.style.cursor = 'not-allowed';
</script>
{% endblock %}
